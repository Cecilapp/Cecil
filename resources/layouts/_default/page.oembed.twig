{% extends 'partials/metatags.html.twig' %}
{% block content %}
{
  "version": "1.0",
  "title": "{{ opengraph.title }}",
  {%- if opengraph.description is defined ~%}
  "description": "{{ opengraph.description }}",
  {%- endif ~%}
  {#- type: photo ~#}
  {%- if page.photo is defined ~%}
  {%- set photo_asset = asset(page.photo) ~%}
  "type": "photo",
  {%- if 'embed' not in page.output ~%}
  {%- deprecated 'The "embed" output format is required by "photo" type.' ~%}
  {%- endif ~%}
  "url": "{{ url(photo_asset, {canonical: true}) }}",
  "embed_url": "{{ url(page, {canonical: true, format: 'embed'}) }}",
  "width": {{ photo_asset.width }},
  "height": {{ photo_asset.height }},
  {#- type: video ~#}
  {%- elseif opengraph.video is defined ~%}
  "type": "video",
  {%- if 'embed' not in page.output ~%}
  {%- deprecated 'The "embed" output format is required by "video" type.' ~%}
  {%- endif ~%}
  "html": "<iframe width=\"{{ opengraph.video.video.width }}\" height=\"{{ opengraph.video.video.height }}\" src=\"{{ url(page, {canonical: true, format: 'embed'}) }}\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen title=\"{{ opengraph.title }}\"></iframe>",
  "width": {{ opengraph.video.video.width }},
  "height": {{ opengraph.video.video.height }},
  {%- else ~%}
  {#- type: link ~#}
  "type": "link",
  {%- endif ~%}
  {#- photo or image thumbnail (640px) ~#}
  {%- if page.photo is defined or opengraph.image is defined ~%}
  "thumbnail_url": "{{ url(page.photo|default(opengraph.image)|resize(640), {canonical: true}) }}",
  "thumbnail_width": {{ page.photo|default(opengraph.image)|resize(640).width }},
  "thumbnail_height": {{ page.photo|default(opengraph.image)|resize(640).height }},
  {%- endif ~%}
  {#- provider ~#}
  "provider_name": "{{ site.title }}",
  "provider_url": "{{ url('/', {canonical: true}) }}",
  {#- author ~#}
  {%- if author.name is defined ~%}
  "author_name": "{{ author.name }}",
  {%- endif ~%}
  {%- if author.url is defined ~%}
  "author_url": "{{ author.url }}",
  {%- endif ~%}
  {#- cache age ~#}
  "cache_age": 3600
}
{% endblock %}