{% extends 'partials/metatags.html.twig' %}
{% block content %}
{
  "version": "1.0",
  "title": "{{ opengraph.title }}",
  {%- if opengraph.description|default is not empty ~%}
  "description": "{{ opengraph.description }}",
  {%- endif ~%}
  {#- author ~#}
  {%- if author.name is defined ~%}
  "author_name": "{{ author.name }}",
  {%- endif ~%}
  {%- if author.url is defined ~%}
  "author_url": "{{ author.url }}",
  {%- endif ~%}
  {#- provider ~#}
  "provider_name": "{{ site.title }}",
  "provider_url": "{{ url(site.home, {canonical: true}) }}",
  {#- type: video ~#}
  {%- if opengraph.video is defined ~%}
  "type": "video",
  {%- if 'embed' not in page.output ~%}
  {%- deprecated 'The "embed" output format is required by "video" type for page "%s"'|format(page.filepath) ~%}
  {%- endif ~%}
  "html": "<iframe width=\"{{ opengraph.video.video.width }}\" height=\"{{ opengraph.video.video.height }}\" src=\"{{ url(page, {canonical: true, format: 'embed'}) }}\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen title=\"{{ opengraph.title }}\"></iframe>",
  "width": {{ opengraph.video.video.width }},
  "height": {{ opengraph.video.video.height }},
  {#- type: photo ~#}
  {%- elseif opengraph.image is defined and opengraph.image is image_large ~%}
  "type": "photo",
  {%- if 'embed' not in page.output ~%}
  {%- deprecated 'The "embed" output format is required by "photo" type for page "%s"'|format(page.filepath) ~%}
  {%- endif ~%}
  "url": "{{ url(opengraph.image, {canonical: true}) }}",
  "width": {{ opengraph.image.width }},
  "height": {{ opengraph.image.height }},
  "embed_url": "{{ url(page, {canonical: true, format: 'embed'}) }}",
  {%- else ~%}
  {#- type: link ~#}
  "type": "link",
  {%- endif ~%}
  {#- image thumbnail (640px) ~#}
  {%- if opengraph.image is defined ~%}
  "thumbnail_url": "{{ url(opengraph.image|resize(640), {canonical: true}) }}",
  "thumbnail_width": {{ opengraph.image|resize(640).width }},
  "thumbnail_height": {{ opengraph.image|resize(640).height }},
  {%- endif ~%}
  {#- cache age ~#}
  "cache_age": 3600
}
{% endblock %}